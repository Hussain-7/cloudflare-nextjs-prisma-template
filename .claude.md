# Brainlift Studio - Claude Development Context

## Project Overview
A Next.js application for managing brainlift data with Prisma database integration, deployed on Cloudflare.

## Tech Stack
- **Framework**: Next.js 15.4.6 with App Router and Turbopack
- **Language**: TypeScript 5.x
- **Database**: PostgreSQL with Prisma ORM and Accelerate
- **State Management**: Zustand 5.x
- **Styling**: Tailwind CSS 4.x
- **Package Manager**: pnpm
- **Deployment**: Cloudflare (OpenNext)
- **Testing**: Vitest + React Testing Library + Playwright

## Key Commands
```bash
# Development
pnpm dev              # Start dev server with Turbopack
pnpm build            # Build for production
pnpm typecheck        # TypeScript checking
pnpm lint             # ESLint checking
pnpm format           # Format with Prettier

# Testing
pnpm test:run         # Unit tests
pnpm test:e2e         # E2E tests with Playwright

# Database
pnpm migrate          # Run Prisma migrations
pnpm generate         # Generate Prisma client
pnpm studio           # Open Prisma Studio
pnpm seed             # Seed database

# Deployment
pnpm deploy           # Deploy to Cloudflare
```

## Project Structure
```
├── app/                    # Next.js App Router
│   ├── api/               # API routes
│   ├── components/        # React components
│   ├── lib/              # Utilities & database
│   ├── stores/           # Zustand state stores
│   └── types/            # TypeScript types
├── prisma/               # Database schema & migrations
├── e2e/                  # Playwright E2E tests
├── tests/                # Test setup and utilities
└── **/__tests__/         # Unit tests (co-located)
```

## Database Schema
- **Brainlift**: Main entity with fields: id, purpose, dok4, dok3, experts, owners

## Important Files
- `prisma/schema.prisma` - Database schema
- `app/lib/db/prisma.ts` - Prisma singleton client
- `vitest.config.mjs` - Test configuration
- `playwright.config.ts` - E2E test configuration

## Development Notes
- Uses `@/` alias for imports (maps to `./app/`)
- Prisma client generates to default pnpm location
- Tests use mocked Prisma for API testing
- ESM-compatible configuration throughout